<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>แดชบอร์ดผู้ดูแลระบบ - CS30 Shop</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans Thai', sans-serif;
            background-color: #f9fafb;
        }
    </style>
</head>
<body>
    <!-- Simple Header -->
    <header class="bg-white border-b">
        <div class="max-w-5xl mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center gap-2">
                <img class="h-8 w-8 rounded-full" src="https://scontent.fcnx4-1.fna.fbcdn.net/v/t39.30808-6/524129824_1256358152947410_4176729647871636738_n.jpg?_nc_cat=106&ccb=1-7&_nc_sid=6ee11a&_nc_ohc=RVWaWSdhP0sQ7kNvwEr6zBh&_nc_oc=AdmpyB34HhIMRQxXABtjZ7AYEmSL8qdVr_reBBu2P7wZsA3ZHPlHvGY3C-YWa4icRqM&_nc_zt=23&_nc_ht=scontent.fcnx4-1.fna&_nc_gid=8NKRxJWc9nncouWRx09DEQ&oh=00_AfRq5mm-Cy2mYeBSnFzKXnpBtiTZNNIA4UVG-GdlZ2TeJA&oe=68938A5E" alt="Logo">
                <h1 class="font-medium">CS30 Shop</h1>
            </div>
            <a href="index.html" class="text-blue-600 hover:text-blue-700">กลับหน้าร้านค้า</a>
        </div>
    </header>

    <main class="max-w-5xl mx-auto px-4 py-8">
        <!-- Quick Stats -->
        <div class="grid grid-cols-3 gap-4 mb-8">
            <div class="bg-white p-4 rounded-lg text-center">
                <div class="text-2xl font-bold text-gray-900">฿45,000</div>
                <div class="text-sm text-gray-500">ยอดขาย</div>
            </div>
            <div class="bg-white p-4 rounded-lg text-center">
                <div class="text-2xl font-bold text-gray-900">150</div>
                <div class="text-sm text-gray-500">คำสั่งซื้อ</div>
            </div>
            <div class="bg-white p-4 rounded-lg text-center">
                <div class="text-2xl font-bold text-gray-900">435</div>
                <div class="text-sm text-gray-500">สินค้าคงเหลือ</div>
            </div>
        </div>

        <!-- Simple Tab Navigation -->
        <div class="flex gap-4 mb-6">
            <button onclick="showTab('products')" class="px-4 py-2 rounded-lg bg-white border hover:bg-gray-50 text-sm">จัดการสินค้า</button>
            <button onclick="showTab('orders')" class="px-4 py-2 rounded-lg bg-white border hover:bg-gray-50 text-sm">คำสั่งซื้อ</button>
        </div>

        <!-- Products Tab -->
        <div id="products-tab" class="bg-white rounded-lg p-6">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-lg font-medium">รายการสินค้า</h2>
                <button onclick="showAddProductForm()" class="px-4 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700">
                    + เพิ่มสินค้า
                </button>
            </div>
            <div class="overflow-x-auto">
                <table class="w-full">
                    <thead class="text-left text-sm text-gray-500">
                        <tr>
                            <th class="pb-3">ชื่อสินค้า</th>
                            <th class="pb-3">ราคา</th>
                            <th class="pb-3">คงเหลือ</th>
                            <th class="pb-3"></th>
                        </tr>
                    </thead>
                    <tbody class="text-sm">
                        <tr class="border-t">
                            <td class="py-3">เสื้อ CS30 - S/ดำ</td>
                            <td class="py-3">฿320</td>
                            <td class="py-3">10</td>
                            <td class="py-3 text-right">
                                <button class="text-blue-600 hover:text-blue-800">แก้ไข</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Orders Tab -->
        <div id="orders-tab" class="hidden bg-white rounded-lg p-6">
            <h2 class="text-lg font-medium mb-6">คำสั่งซื้อล่าสุด</h2>
            <div class="overflow-x-auto">
                <table class="w-full">
                    <thead class="text-left text-sm text-gray-500">
                        <tr>
                            <th class="pb-3">หมายเลข</th>
                            <th class="pb-3">วันที่</th>
                            <th class="pb-3">ลูกค้า</th>
                            <th class="pb-3">สินค้า</th>
                            <th class="pb-3">ราคารวม</th>
                            <th class="pb-3">การจัดส่ง</th>
                            <th class="pb-3">สถานะ</th>
                            <th class="pb-3"></th>
                        </tr>
                    </thead>
                    <tbody class="text-sm">
                        <tr class="border-t">
                            <td class="py-3">#1234</td>
                            <td class="py-3">15/03/2024</td>
                            <td class="py-3">สมชาย ใจดี</td>
                            <td class="py-3">เสื้อ CS30 (ดำ/L) x2</td>
                            <td class="py-3">฿640</td>
                            <td class="py-3">จัดส่งถึงบ้าน</td>
                            <td class="py-3">
                                <select class="px-2 py-1 rounded-full text-xs border" onchange="updateOrderStatus(1234, this.value)">
                                    <option value="pending">รอชำระเงิน</option>
                                    <option value="paid" selected>ชำระเงินแล้ว</option>
                                    <option value="shipping">กำลังจัดส่ง</option>
                                    <option value="completed">จัดส่งแล้ว</option>
                                    <option value="cancelled">ยกเลิก</option>
                                </select>
                            </td>
                            <td class="py-3 text-right">
                                <button onclick="showOrderDetails(1234)" class="text-blue-600 hover:text-blue-800">
                                    ดูรายละเอียด
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Add Product Modal -->
        <div id="addProductModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
            <div class="bg-white rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-medium">เพิ่มสินค้าใหม่</h3>
                    <button onclick="hideAddProductForm()" class="text-gray-400 hover:text-gray-600">✕</button>
                </div>
                <form class="space-y-4">
                    <div>
                        <label class="block text-sm mb-1">ประเภทสินค้า</label>
                        <select onchange="toggleProductOptions()" id="productType" class="w-full p-2 border rounded-lg" required>
                            <option value="">เลือกประเภท</option>
                            <option value="shirt">เสื้อ</option>
                            <option value="other">สินค้าทั่วไป</option>
                        </select>
                    </div>
                    
                    <!-- Size Options -->
                    <div id="sizeSection" class="hidden">
                        <label class="block text-sm mb-1">ขนาด</label>
                        <div class="grid grid-cols-2 gap-2">
                            <label class="flex items-center p-2 border rounded">
                                <input type="checkbox" name="sizes" value="S" class="mr-2">
                                <span>S</span>
                            </label>
                            <label class="flex items-center p-2 border rounded">
                                <input type="checkbox" name="sizes" value="M" class="mr-2">
                                <span>M</span>
                            </label>
                            <label class="flex items-center p-2 border rounded">
                                <input type="checkbox" name="sizes" value="L" class="mr-2">
                                <span>L</span>
                            </label>
                            <label class="flex items-center p-2 border rounded">
                                <input type="checkbox" name="sizes" value="XL" class="mr-2">
                                <span>XL</span>
                            </label>
                        </div>
                    </div>

                    <!-- Color Options -->
                    <div id="colorSection" class="hidden">
                        <label class="block text-sm mb-1">สี</label>
                        <div class="grid grid-cols-2 gap-2">
                            <label class="flex items-center p-2 border rounded">
                                <input type="checkbox" name="colors" value="black" class="mr-2">
                                <span>สีดำ</span>
                            </label>
                            <label class="flex items-center p-2 border rounded">
                                <input type="checkbox" name="colors" value="white" class="mr-2">
                                <span>สีขาว</span>
                            </label>
                        </div>
                    </div>

                    <!-- Stock Inputs -->
                    <div id="variantStockSection" class="hidden space-y-2">
                        <label class="block text-sm mb-1">จำนวนสินค้าในสต็อก (ตามขนาดและสี)</label>
                        <div id="variantStockInputs" class="space-y-2">
                            <!-- Dynamic stock inputs will be generated here -->
                        </div>
                    </div>

                    <!-- Regular stock input -->
                    <div id="regularStockInput">
                        <label class="block text-sm mb-1">จำนวน</label>
                        <input type="number" class="w-full p-2 border rounded-lg" required>
                    </div>
                    <div>
                        <label class="block text-sm mb-1">ชื่อสินค้า</label>
                        <input type="text" class="w-full p-2 border rounded-lg" required>
                    </div>
                    <div>
                        <label class="block text-sm mb-1">ราคา</label>
                        <input type="number" class="w-full p-2 border rounded-lg" required>
                    </div>
                    <div>
                        <label class="block text-sm mb-1">รูปภาพ</label>
                        <input type="file" accept="image/*" class="w-full" required>
                    </div>
                    <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700">
                        บันทึก
                    </button>
                </form>
            </div>
        </div>

        <!-- Order Details Modal -->
        <div id="orderDetailsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
            <div class="bg-white rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-medium">รายละเอียดคำสั่งซื้อ #<span id="orderNumber">1234</span></h3>
                    <button onclick="hideOrderDetails()" class="text-gray-400 hover:text-gray-600">✕</button>
                </div>
                <div class="space-y-6">
                    <!-- Customer Info -->
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <h4 class="font-medium mb-2">ข้อมูลลูกค้า</h4>
                            <div class="space-y-1 text-sm">
                                <p><span class="text-gray-500">ชื่อ-นามสกุล:</span> สมชาย ใจดี</p>
                                <p><span class="text-gray-500">เบอร์โทร:</span> 0812345678</p>
                            </div>
                        </div>
                        <div>
                            <h4 class="font-medium mb-2">ข้อมูลการจัดส่ง</h4>
                            <div class="space-y-1 text-sm">
                                <p><span class="text-gray-500">วิธีการจัดส่ง:</span> จัดส่งถึงบ้าน</p>
                                <p class="whitespace-pre-wrap"><span class="text-gray-500">ที่อยู่:</span> 123 ถ.เชียงใหม่-ลำพูน
ต.หนองหาร อ.สันทราย
จ.เชียงใหม่ 50290</p>
                            </div>
                        </div>
                    </div>

                    <!-- Order Items -->
                    <div>
                        <h4 class="font-medium mb-2">รายการสินค้า</h4>
                        <table class="w-full text-sm">
                            <thead class="text-left text-gray-500">
                                <tr>
                                    <th class="pb-2">สินค้า</th>
                                    <th class="pb-2">ราคา/ชิ้น</th>
                                    <th class="pb-2">จำนวน</th>
                                    <th class="pb-2 text-right">รวม</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="border-t">
                                    <td class="py-2">เสื้อ CS30 (ดำ/L)</td>
                                    <td class="py-2">฿320</td>
                                    <td class="py-2">2</td>
                                    <td class="py-2 text-right">฿640</td>
                                </tr>
                            </tbody>
                            <tfoot class="font-medium">
                                <tr class="border-t">
                                    <td colspan="3" class="py-2">รวมทั้งสิ้น</td>
                                    <td class="py-2 text-right">฿640</td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>

                    <!-- Payment Info -->
                    <div>
                        <h4 class="font-medium mb-2">ข้อมูลการชำระเงิน</h4>
                        <div class="space-y-1 text-sm">
                            <p><span class="text-gray-500">วิธีการชำระเงิน:</span> โอนเงินผ่านธนาคาร</p>
                            <div class="mt-2">
                                <span class="text-gray-500">สลิปการโอนเงิน:</span>
                                <img src="path/to/slip.jpg" alt="สลิปการโอนเงิน" class="mt-1 max-w-xs rounded border">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        function showTab(tabName) {
            document.getElementById('products-tab').classList.add('hidden');
            document.getElementById('orders-tab').classList.add('hidden');
            document.getElementById(`${tabName}-tab`).classList.remove('hidden');
        }

        function showAddProductForm() {
            document.getElementById('addProductModal').classList.remove('hidden');
        }

        function hideAddProductForm() {
            document.getElementById('addProductModal').classList.add('hidden');
        }

        function toggleProductOptions() {
            const productType = document.getElementById('productType').value;
            const sizeSection = document.getElementById('sizeSection');
            const colorSection = document.getElementById('colorSection');
            const variantStockSection = document.getElementById('variantStockSection');
            const regularStockInput = document.getElementById('regularStockInput');

            if (productType === 'shirt') {
                sizeSection.classList.remove('hidden');
                colorSection.classList.remove('hidden');
                variantStockSection.classList.remove('hidden');
                regularStockInput.classList.add('hidden');
                setupVariantStockInputs();
            } else {
                sizeSection.classList.add('hidden');
                colorSection.classList.add('hidden');
                variantStockSection.classList.add('hidden');
                regularStockInput.classList.remove('hidden');
            }
        }

        function setupVariantStockInputs() {
            const sizes = document.getElementsByName('sizes');
            const colors = document.getElementsByName('colors');

            function updateStockInputs() {
                const stockInputs = document.getElementById('variantStockInputs');
                stockInputs.innerHTML = '';
                
                const selectedSizes = Array.from(sizes).filter(s => s.checked).map(s => s.value);
                const selectedColors = Array.from(colors).filter(c => c.checked).map(c => c.value);
                
                selectedColors.forEach(color => {
                    selectedSizes.forEach(size => {
                        const colorText = color === 'black' ? 'สีดำ' : 'สีขาว';
                        stockInputs.innerHTML += `
                            <div class="flex items-center gap-2">
                                <span class="min-w-[100px]">${colorText} - ${size}</span>
                                <input type="number" 
                                    min="0" 
                                    class="w-24 p-2 border rounded" 
                                    placeholder="จำนวน"
                                    name="stock_${color}_${size}" 
                                    required>
                            </div>
                        `;
                    });
                });
            }

            // Add event listeners to checkboxes
            sizes.forEach(size => size.addEventListener('change', updateStockInputs));
            colors.forEach(color => color.addEventListener('change', updateStockInputs));
        }

        function showOrderDetails(orderId) {
            document.getElementById('orderDetailsModal').classList.remove('hidden');
            document.getElementById('orderNumber').textContent = orderId;
        }

        function hideOrderDetails() {
            document.getElementById('orderDetailsModal').classList.add('hidden');
        }

        function updateOrderStatus(orderId, status) {
            // Add API call to update order status
            console.log(`Updating order ${orderId} to status: ${status}`);
        }
    </script>
</body>
</html>